{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-5">
    
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="display-4 fw-bold" style="font-family: 'Poppins', Georgia, 'Times New Roman', Times, serif; color: #000000; font-size: 2.5rem;">
                Resource Allocation and Invigilation Scheduling Engine
            </h1>
        </div>
    </div>

    <!-- Added a specific class 'index-cards' to target only these cards on the index page -->
     {%if is_chief %}
    <div class="row index-cards">
        <!-- Manage Programmes Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Programmes</h5>
                    <p class="card-text">Easily organize and oversee all your programs.</p>
                    <a href="{% url 'program_list' %}" class="btn btn-primary btn-block">Go to Programmes</a>
                </div>
            </div>
        </div>

        <!-- Manage Rooms Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Rooms</h5>
                    <p class="card-text">Maintain room details efficiently.</p>
                    <a href="{% url 'room_list' %}" class="btn btn-primary btn-block">Go to Rooms</a>
                </div>
            </div>
        </div>

        <!-- Manage Course Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Course</h5>
                    <p class="card-text">Handle your course data with flexibility.</p>
                    <a href="{% url 'course_list' %}" class="btn btn-primary btn-block">Go to Courses</a>
                </div>
            </div>
        </div>

        <!-- Manage Exam Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Exam</h5>
                    <p class="card-text">Easily schedule and manage exam data.</p>
                    <a href="{% url 'exam_list' %}" class="btn btn-primary btn-block">Go to Exam</a>
                </div>
            </div>
        </div>

        <!-- Manage Timetable Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Timetable</h5>
                    <p class="card-text">Easily schedule and manage timetable.</p>
                    <a href="{% url 'timetable_list' %}" class="btn btn-primary btn-block">Go to Timetable</a>
                </div>
            </div>
        </div>

        <!-- Manage Teacher Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Teacher</h5>
                    <p class="card-text">Easily add and manage teacher.</p>
                    <a href="{% url 'teacher_list' %}" class="btn btn-primary btn-block">Go to Teacher</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title">Manage Duty</h5>
                    <p class="card-text">Easily manges duty alotment.</p>
                    <a href="{% url 'duty_list' %}" class="btn btn-primary btn-block">Go to Duty Allotment</a>
                </div>
            </div>
        </div>
        {% endif %}

        {% if is_teacher %}
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h5 class="card-title">Manage Duty Preferences</h5>
                        <p class="card-text">Easily manage teacher's duty preferences.</p>
                        <a href="{% url 'preference_list' %}" class="btn btn-primary btn-block">Go to Duty Preferences</a>
                    </div>
                </div>
            </div>
        
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h5 class="card-title">View Duty History</h5>
                        <p class="card-text">See your duty allotment history.</p>
                        <a href="{% url 'duty_history' %}" class="btn btn-primary btn-block">View Duty History</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row index-cards">
            <div class="col-md-12 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h4 class="card-title" style="text-align:center">Ongoing Examinations</h4>
                        <ul>
                            {% for exam in ongoing_exams %}
                                <li>{{ exam.sem }}th Semester {{exam.level}} Examination {{exam.month}} {{exam.year}}</li>  <!-- This will show the full exam object -->
                            {% empty %}
                                <li>No ongoing examinations</li>
                            {% endfor %}
                        </ul>
                        
                    </div>
                </div>
            </div>
        </div>
        
            <div class="col-md-12 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h5 class="card-title">Duty Allotted Dates</h5>
                        <ul>
                            {% if duty_allotted_dates %}
                                    {% for duty in duty_allotted_dates %}
                                        <li>{{ duty.date }} </li>
                                    {% endfor %}
                                {% else %}
                                    <li>No duty allotments</li>
                                {% endif %}
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-12 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h5 class="card-title">Preferred Dates</h5>
                        <ul>
                            {% if preferred_dates %}
                            {% for preference in preferred_dates %}
                                <li>{{ preference.pref_date }}</li>
                            {% endfor %}
                        {% else %}
                            <li>No preferred dates</li>
                        {% endif %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

 